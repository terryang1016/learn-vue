(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{444:function(t,e,a){"use strict";a.r(e);var n=a(2),l=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"_1-请求参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-请求参数"}},[t._v("#")]),t._v(" 1.请求参数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("必填")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("url")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("开发者服务器接口地址")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("data")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("string/object/ArrayBuffer")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("请求的参数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("header")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Object")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("设置请求的 header，header 中不能设置 Referer。"),e("br"),e("code",[t._v("content-type")]),t._v(" 默认为 "),e("code",[t._v("application/json")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("timeout")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("超时时间，单位为毫秒。默认值为 60000")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("success")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("function")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("接口调用成功的回调函数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("fail")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("function")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("接口调用失败的回调函数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("complete")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("function")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("接口调用结束的回调函数（调用成功、失败都会执行）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("method")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("get")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("OPTIONS、HEAD、PUT、DELETE、TRACE、CONNECT")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("dataType")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("json")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("返回的数据格式")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("responseType")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("text")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("响应的数据类型")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("enableHttp2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("开启 http2")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("enableQuic")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("开启 quic")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("enableCache")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("开启 cache")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("enableChunked")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("开启 transfer-encoding chunked")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("enableHttpDNS")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是否开启 HttpDNS 服务。如开启，需要同时填入 httpDNSServiceId 。 HttpDNS 用法详见 "),e("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/ability/HTTPDNS.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("移动解析HttpDNS"),e("OutboundLink")],1)])])])]),t._v(" "),e("h3",{attrs:{id:"_2-示例代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-示例代码"}},[t._v("#")]),t._v(" 2.示例代码：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("wx.request({\n  url: 'example.php', //仅为示例，并非真实的接口地址\n  data: {\n    x: '',\n    y: ''\n  },\n  header: {\n    'content-type': 'application/json' // 默认值\n  },\n  success (res) {\n    console.log(res.data)\n  }\n})\n")])])]),e("h2",{attrs:{id:"二、下载-downloadtask-wx-downloadfile-object-object"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、下载-downloadtask-wx-downloadfile-object-object"}},[t._v("#")]),t._v(" 二、下载：DownloadTask wx.downloadFile(Object object)")]),t._v(" "),e("h3",{attrs:{id:"_1-请求参数-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-请求参数-2"}},[t._v("#")]),t._v(" 1.请求参数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("必填")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("url")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("下载资源的 url")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("header")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Object")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("HTTP 请求的 Header，Header 中不能设置 Referer")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("timeout")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("超时时间，单位为毫秒")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("filePath")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("指定文件下载后存储的路径 (本地路径)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("success")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("function")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("接口调用成功的回调函数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("fail")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("function")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("接口调用失败的回调函数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("complete")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("function")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("接口调用结束的回调函数（调用成功、失败都会执行）")])])])]),t._v(" "),e("h3",{attrs:{id:"_2-功能描述-下载文件资源到本地。客户端直接发起一个-https-get-请求-返回文件的本地临时路径-本地路径-单次下载允许的最大文件为-200mb。使用前请注意阅读相关说明。注意-请在服务端响应的-header-中指定合理的-content-type-字段-以保证客户端正确处理文件类型。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-功能描述-下载文件资源到本地。客户端直接发起一个-https-get-请求-返回文件的本地临时路径-本地路径-单次下载允许的最大文件为-200mb。使用前请注意阅读相关说明。注意-请在服务端响应的-header-中指定合理的-content-type-字段-以保证客户端正确处理文件类型。"}},[t._v("#")]),t._v(" 2.功能描述：下载文件资源到本地。客户端直接发起一个 HTTPS GET 请求，返回文件的本地临时路径 (本地路径)，单次下载允许的最大文件为 200MB。使用前请注意阅读相关说明。注意：请在服务端响应的 header 中指定合理的 Content-Type 字段，以保证客户端正确处理文件类型。")]),t._v(" "),e("h3",{attrs:{id:"_3-示例代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-示例代码"}},[t._v("#")]),t._v(" 3.示例代码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("wx.downloadFile({\n  url: 'https://example.com/audio/123', //仅为示例，并非真实的资源\n  success (res) {\n    // 只要服务器有响应数据，就会把响应内容写入文件并进入 success 回调，业务需要自行判断是否下载到了想要的内容\n    if (res.statusCode === 200) {\n      wx.playVoice({\n        filePath: res.tempFilePath\n      })\n    }\n  }\n})\n")])])]),e("h2",{attrs:{id:"三、上传-uploadtask-wx-uploadfile-object-object"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、上传-uploadtask-wx-uploadfile-object-object"}},[t._v("#")]),t._v(" 三、上传：UploadTask wx.uploadFile(Object object)")]),t._v(" "),e("h3",{attrs:{id:"_1-请求参数-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-请求参数-3"}},[t._v("#")]),t._v(" 1.请求参数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("必填")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("url")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("开发者服务器地址")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("filePath")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("要上传文件资源的路径 (本地路径)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("name")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("文件对应的 key，开发者在服务端可以通过这个 key 获取文件的二进制内容")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("header")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Object")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("HTTP 请求的 Header，Header 中不能设置 Referer")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("formData")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Object")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("HTTP 请求中其他额外的 form data")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("timeout")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("number")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("超时时间，单位为毫秒")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("success")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("function")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("接口调用成功的回调函数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("fail")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("function")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("接口调用失败的回调函数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("complete")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("function")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("接口调用结束的回调函数（调用成功、失败都会执行）")])])])]),t._v(" "),e("h3",{attrs:{id:"_2-功能描述-将本地资源上传到服务器。客户端发起一个-https-post-请求-其中-content-type-为-multipart-form-data。使用前请注意阅读相关说明。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-功能描述-将本地资源上传到服务器。客户端发起一个-https-post-请求-其中-content-type-为-multipart-form-data。使用前请注意阅读相关说明。"}},[t._v("#")]),t._v(" 2.功能描述：将本地资源上传到服务器。客户端发起一个 HTTPS POST 请求，其中 "),e("code",[t._v("content-type")]),t._v(" 为 "),e("code",[t._v("multipart/form-data")]),t._v("。使用前请注意阅读"),e("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/ability/network.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("相关说明"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("h3",{attrs:{id:"_3-示例代码-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-示例代码-2"}},[t._v("#")]),t._v(" 3.示例代码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("wx.chooseImage({\n  success (res) {\n    const tempFilePaths = res.tempFilePaths\n    wx.uploadFile({\n      url: 'https://example.weixin.qq.com/upload', //仅为示例，非真实的接口地址\n      filePath: tempFilePaths[0],\n      name: 'file',\n      formData: {\n        'user': 'test'\n      },\n      success (res){\n        const data = res.data\n        //do something\n      }\n    })\n  }\n})\n")])])])])}),[],!1,null,null,null);e.default=l.exports}}]);