(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{442:function(t,e,a){"use strict";a.r(e);var n=a(2),i=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"_1-事件分类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-事件分类"}},[t._v("#")]),t._v(" 1.事件分类")]),t._v(" "),e("p",[t._v("事件分为冒泡事件和非冒泡事件：")]),t._v(" "),e("p",[t._v("①.冒泡事件：当一个组件上的事件被触发后，该事件会向父节点传递。")]),t._v(" "),e("p",[t._v("​②.非冒泡事件：当一个组件上的事件被触发后，该事件不会向父节点传递。")]),t._v(" "),e("p",[t._v("WXML的冒泡事件列表：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("触发条件")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("touchstart")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("手指触摸动作开始")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("touchmove")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("手指触摸后移动")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("touchcancel")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("手指触摸动作被打断，如来电提醒，弹窗")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("touchend")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("手指触摸动作结束")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("tap")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("手指触摸后马上离开")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("longpress")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("手指触摸后，超过350ms再离开，如果指定了事件回调函数并触发了这个事件，tap事件将不被触发")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("longtap")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("手指触摸后，超过350ms再离开（推荐使用longpress事件代替）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("transitionend")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("会在 WXSS transition 或 wx.createAnimation 动画结束后触发")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("animationstart")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("会在一个 WXSS animation 动画开始时触发")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("animationiteration")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("会在一个 WXSS animation 一次迭代结束时触发")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("animationend")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("会在一个 WXSS animation 动画完成时触发")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("touchforcechange")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("在支持 3D Touch 的 iPhone 设备，重按时会触发")])])])]),t._v(" "),e("h3",{attrs:{id:"_2-普通事件绑定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-普通事件绑定"}},[t._v("#")]),t._v(" 2.普通事件绑定")]),t._v(" "),e("h4",{attrs:{id:"功能描述-事件绑定的写法类似于组件的属性。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#功能描述-事件绑定的写法类似于组件的属性。"}},[t._v("#")]),t._v(" 功能描述：事件绑定的写法类似于组件的属性。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<view bindtap="handleTap">\n    Click here!\n</view>\n')])])]),e("h3",{attrs:{id:"_3-绑定并阻止事件冒泡"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-绑定并阻止事件冒泡"}},[t._v("#")]),t._v(" 3.绑定并阻止事件冒泡")]),t._v(" "),e("h4",{attrs:{id:"功能描述-除-bind-外-也可以用-catch-来绑定事件。与-bind-不同-catch-会阻止事件向上冒泡。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#功能描述-除-bind-外-也可以用-catch-来绑定事件。与-bind-不同-catch-会阻止事件向上冒泡。"}},[t._v("#")]),t._v(" 功能描述：除 bind 外，也可以用 catch 来绑定事件。与 bind 不同， "),e("strong",[t._v("catch 会阻止事件向上冒泡")]),t._v("。")]),t._v(" "),e("h4",{attrs:{id:"例如在下边这个例子中-点击-inner-view-会先后调用handletap3和handletap2-因为tap事件会冒泡到-middle-view-而-middle-view-阻止了-tap-事件冒泡-不再向父节点传递-点击-middle-view-会触发handletap2-点击-outer-view-会触发handletap1。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#例如在下边这个例子中-点击-inner-view-会先后调用handletap3和handletap2-因为tap事件会冒泡到-middle-view-而-middle-view-阻止了-tap-事件冒泡-不再向父节点传递-点击-middle-view-会触发handletap2-点击-outer-view-会触发handletap1。"}},[t._v("#")]),t._v(" 例如在下边这个例子中，点击 inner view 会先后调用handleTap3和handleTap2(因为tap事件会冒泡到 middle view，而 middle view 阻止了 tap 事件冒泡，不再向父节点传递)，点击 middle view 会触发handleTap2，点击 outer view 会触发handleTap1。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<view id="outer" bindtap="handleTap1">\n  outer view\n  <view id="middle" catchtap="handleTap2">\n    middle view\n    <view id="inner" bindtap="handleTap3">\n      inner view\n    </view>\n  </view>\n</view>\n')])])]),e("h3",{attrs:{id:"_4-互斥事件绑定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-互斥事件绑定"}},[t._v("#")]),t._v(" 4.互斥事件绑定")]),t._v(" "),e("h4",{attrs:{id:"功能描述-自基础库版本-2-8-2-起-除-bind-和-catch-外-还可以使用-mut-bind-来绑定事件。一个-mut-bind-触发后-如果事件冒泡到其他节点上-其他节点上的-mut-bind-绑定函数不会被触发-但-bind-绑定函数和-catch-绑定函数依旧会被触发。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#功能描述-自基础库版本-2-8-2-起-除-bind-和-catch-外-还可以使用-mut-bind-来绑定事件。一个-mut-bind-触发后-如果事件冒泡到其他节点上-其他节点上的-mut-bind-绑定函数不会被触发-但-bind-绑定函数和-catch-绑定函数依旧会被触发。"}},[t._v("#")]),t._v(" 功能描述：自基础库版本 2.8.2 起，除 bind 和 catch 外，还可以使用 mut-bind 来绑定事件。一个 mut-bind 触发后，如果事件冒泡到其他节点上，其他节点上的 mut-bind 绑定函数不会被触发，但 bind 绑定函数和 catch 绑定函数依旧会被触发。")]),t._v(" "),e("h4",{attrs:{id:"换而言之-所有-mut-bind-是-互斥-的-只会有其中一个绑定函数被触发。同时-它完全不影响-bind-和-catch-的绑定效果。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#换而言之-所有-mut-bind-是-互斥-的-只会有其中一个绑定函数被触发。同时-它完全不影响-bind-和-catch-的绑定效果。"}},[t._v("#")]),t._v(" 换而言之，所有 mut-bind 是“互斥”的，只会有其中一个绑定函数被触发。同时，它完全不影响 bind 和 catch 的绑定效果。")]),t._v(" "),e("h4",{attrs:{id:"例如在下边这个例子中-点击-inner-view-会先后调用-handletap3-和-handletap2-点击-middle-view-会调用-handletap2-和-handletap1-。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#例如在下边这个例子中-点击-inner-view-会先后调用-handletap3-和-handletap2-点击-middle-view-会调用-handletap2-和-handletap1-。"}},[t._v("#")]),t._v(" 例如在下边这个例子中，点击 inner view 会先后调用 handleTap3 和 handleTap2 ，点击 middle view 会调用 handleTap2 和 handleTap1 。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<view id="outer" mut-bind:tap="handleTap1">\n  outer view\n  <view id="middle" bindtap="handleTap2">\n    middle view\n    <view id="inner" mut-bind:tap="handleTap3">\n      inner view\n    </view>\n  </view>\n</view>\n')])])]),e("h3",{attrs:{id:"_5-事件的捕获阶段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-事件的捕获阶段"}},[t._v("#")]),t._v(" 5.事件的捕获阶段")]),t._v(" "),e("h4",{attrs:{id:"功能描述-自基础库版本-1-5-0-起-触摸类事件支持捕获阶段。捕获阶段位于冒泡阶段之前-且在捕获阶段中-事件到达节点的顺序与冒泡阶段恰好相反。需要在捕获阶段监听事件时-可以采用capture-bind、capture-catch关键字-后者将中断捕获阶段和取消冒泡阶段。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#功能描述-自基础库版本-1-5-0-起-触摸类事件支持捕获阶段。捕获阶段位于冒泡阶段之前-且在捕获阶段中-事件到达节点的顺序与冒泡阶段恰好相反。需要在捕获阶段监听事件时-可以采用capture-bind、capture-catch关键字-后者将中断捕获阶段和取消冒泡阶段。"}},[t._v("#")]),t._v(" 功能描述：自基础库版本 1.5.0 起，触摸类事件支持捕获阶段。捕获阶段位于冒泡阶段之前，且在捕获阶段中，事件到达节点的顺序与冒泡阶段恰好相反。需要在捕获阶段监听事件时，可以采用capture-bind、capture-catch关键字，后者将中断捕获阶段和取消冒泡阶段。")]),t._v(" "),e("h5",{attrs:{id:"在下面的代码中-点击-inner-view-会先后调用handletap2、handletap4、handletap3、handletap1。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在下面的代码中-点击-inner-view-会先后调用handletap2、handletap4、handletap3、handletap1。"}},[t._v("#")]),t._v(" 在下面的代码中，点击 inner view 会先后调用handleTap2、handleTap4、handleTap3、handleTap1。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<view id="outer" bind:touchstart="handleTap1" capture-bind:touchstart="handleTap2">\n  outer view\n  <view id="inner" bind:touchstart="handleTap3" capture-bind:touchstart="handleTap4">\n    inner view\n  </view>\n</view>\n')])])]),e("h5",{attrs:{id:"如果将上面代码中的第一个capture-bind改为capture-catch-将只触发handletap2。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如果将上面代码中的第一个capture-bind改为capture-catch-将只触发handletap2。"}},[t._v("#")]),t._v(" 如果将上面代码中的第一个capture-bind改为capture-catch，将只触发handleTap2。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<view id="outer" bind:touchstart="handleTap1" capture-catch:touchstart="handleTap2">\n  outer view\n  <view id="inner" bind:touchstart="handleTap3" capture-bind:touchstart="handleTap4">\n    inner view\n  </view>\n</view>\n')])])]),e("h3",{attrs:{id:"_6-事件对象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-事件对象"}},[t._v("#")]),t._v(" 6.事件对象")]),t._v(" "),e("h4",{attrs:{id:"功能描述-如无特殊说明-当组件触发事件时-逻辑层绑定该事件的处理函数会收到一个事件对象。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#功能描述-如无特殊说明-当组件触发事件时-逻辑层绑定该事件的处理函数会收到一个事件对象。"}},[t._v("#")]),t._v(" 功能描述：如无特殊说明，当组件触发事件时，逻辑层绑定该事件的处理函数会收到一个事件对象。")]),t._v(" "),e("h4",{attrs:{id:"baseevent-基础事件对象属性列表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#baseevent-基础事件对象属性列表"}},[t._v("#")]),t._v(" "),e("strong",[t._v("BaseEvent 基础事件对象属性列表")]),t._v(":")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("type")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("事件类型")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("timeStamp")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Integer")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("事件生成时的时间戳(页面打开到触发事件所经过的毫秒数。)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("target")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Object")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("触发事件的组件的一些属性值集合(页面打开到触发事件所经过的毫秒数。)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("currentTarget")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Object")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("当前组件的一些属性值集合")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("mark")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Object")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("事件标记数据")])])])]),t._v(" "),e("p",[e("strong",[t._v("CustomEvent 自定义事件对象属性列表（继承 BaseEvent）：")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("detail")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Object")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("额外的信息")])])])]),t._v(" "),e("p",[t._v("自定义事件所携带的数据，如表单组件的提交事件会携带用户的输入，媒体的错误事件会携带错误信息，详见"),e("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/component",target:"_blank",rel:"noopener noreferrer"}},[t._v("组件"),e("OutboundLink")],1),t._v("定义中各个事件的定义。")]),t._v(" "),e("p",[t._v("点击事件的"),e("code",[t._v("detail")]),t._v(" 带有的 x, y 同 pageX, pageY 代表距离文档左上角的距离。")]),t._v(" "),e("p",[e("strong",[t._v("TouchEvent 触摸事件对象属性列表（继承 BaseEvent）：")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("touches")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Array")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("触摸事件，当前停留在屏幕中的触摸点信息的数组")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("changedTouches")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Array")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("触摸事件，当前变化的触摸点信息的数组")])])])]),t._v(" "),e("h3",{attrs:{id:"changedtouches"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#changedtouches"}},[t._v("#")]),t._v(" changedTouches")]),t._v(" "),e("p",[t._v("changedTouches 数据格式同 touches。 表示有变化的触摸点，如从无变有（touchstart），位置变化（touchmove），从有变无（touchend、touchcancel）。")]),t._v(" "),e("h4",{attrs:{id:"touch-对象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#touch-对象"}},[t._v("#")]),t._v(" Touch 对象")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("identifier")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("触摸事件，当前停留在屏幕中的触摸点信息的数组")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("pageX, pageY")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("距离"),e("strong",[t._v("文档左上角")]),t._v("的距离，文档的左上角为原点 ，横向为X轴，纵向为Y轴")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("clientX, clientY")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("距离"),e("strong",[t._v("页面可显示区域")]),t._v("（屏幕除去导航条）左上角距离，横向为X轴，纵向为Y轴")])])])]),t._v(" "),e("p",[e("strong",[t._v("特殊事件： "),e("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/component/canvas.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("canvas"),e("OutboundLink")],1),t._v(" 中的触摸事件不可冒泡，所以没有 currentTarget。")])])])}),[],!1,null,null,null);e.default=i.exports}}]);